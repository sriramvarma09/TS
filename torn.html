          const matchElement = document.createElement("div");
          matchElement.className = "match";

          const team1El = document.createElement("div");
          team1El.className = "team";
          team1El.textContent = match.team1 || "TBD";

          const team2El = document.createElement("div");
          team2El.className = "team";
          team2El.textContent = match.team2 || "TBD";

          if (match.winner) {
            if (match.winner === match.team1) {
              team1El.classList.add("winner");
              team2El.classList.add("loser");
            } else {
              team2El.classList.add("winner");
              team1El.classList.add("loser");
            }
          } else if (match.team1 && match.team2) {
            const select = document.createElement("select");
            const optionDefault = document.createElement("option");
            optionDefault.textContent = "-- Select Winner --";
            optionDefault.disabled = true;
            optionDefault.selected = true;

            const option1 = document.createElement("option");
            option1.value = match.team1;
            option1.textContent = match.team1;

            const option2 = document.createElement("option");
            option2.value = match.team2;
            option2.textContent = match.team2;

            select.appendChild(optionDefault);
            select.appendChild(option1);
            select.appendChild(option2);

            select.addEventListener("change", function () {
              match.winner = this.value;
              updateNextRound(roundIndex, matchIndex, match.winner);
              renderBracket();
            });

            matchElement.appendChild(select);
          }

          matchElement.appendChild(team1El);
          matchElement.appendChild(team2El);
          roundElement.appendChild(matchElement);
        });

        bracketElement.appendChild(roundElement);
      });
    }

    function updateNextRound(currentRoundIndex, matchIndex, winner) {
      const nextRoundIndex = currentRoundIndex + 1;

      if (nextRoundIndex >= brackets.length) {
        // Show champion
        const championDisplay = document.getElementById("championDisplay");
        championDisplay.textContent = `üèÜ Champion: ${winner} üèÜ`;
        championDisplay.style.display = "block";
        return;
      }

      const nextMatchIndex = Math.floor(matchIndex / 2);
      const nextMatch = brackets[nextRoundIndex][nextMatchIndex];

      if (matchIndex % 2 === 0) {
        nextMatch.team1 = winner;
      } else {
        nextMatch.team2 = winner;
      }

      // Clear future rounds in case of re-selection
      for (let i = nextRoundIndex; i < brackets.length; i++) {
        brackets[i].forEach(match => {
          match.winner = null;
        });
      }

      const championDisplay = document.getElementById("championDisplay");
      championDisplay.style.display = "none";
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }
  </script>
</body>
</html>
